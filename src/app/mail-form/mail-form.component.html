<div class="container">
    <div style="width:100%; height: 50px; background: #333; color:#fff; padding: 5px;">
    <h1>Email Form</h1>
    </div>

    <fieldset style="width: 80%; margin: 15px auto; border-radius: 5px;">
        <legend>Contact Information: </legend>
        <form [formGroup]="mailForm" class="mail-form">
            <div class="border" style="
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
      ">
                <div style="width: 49%">
                    <label>TO:</label>
                    <button mat-button color="primary" (click)="addRecipient('toRecipients')">
                        +
                    </button>
                    <div style="width: 100%; display: flex">
                        <mat-form-field appearance="outline" floatLabel="always" style="width: 60%">
                            <label>To: <span style="color: red">*</span></label>

                            <input matInput formControlName="requiredToRecipient" required
                                placeholder="example@example.com" />
                        </mat-form-field>
                    </div>

                    <div *ngFor="let recipient of toRecipients.controls; let i = index"
                        style="width: 100%; display: flex" formArrayName="toRecipients">
                        <mat-form-field appearance="outline" floatLabel="always" style="width: 60%;">
                            <label>To</label>
                            <input matInput formControlName="{{ i }}" placeholder="example@example.com" />
                        </mat-form-field>
                        <div style="display: flex; align-items: center">
                            <button mat-button color="warn" (click)="removeRecipient(i, 'toRecipients')">
                                X
                            </button>
                        </div>
                    </div>
                </div>

                <div style="width: 49%">

                    <label>Cc:</label>
                    <button mat-button color="primary" (click)="addRecipient('ccRecipients')">
                        +
                    </button>
                    <div *ngFor="let recipient of ccRecipients.controls; let i = index"
                        style="width: 100%; display: flex" formArrayName="ccRecipients">
                        <mat-form-field appearance="outline" floatLabel="always" style="width:60%">
                            <label>Cc</label>
                            <input matInput formControlName="{{ i }}" placeholder="example@example.com" />
                        </mat-form-field>
                        <div style="display: flex; align-items: center">
                            <button mat-button color="warn" *ngIf="i > 0" (click)="removeRecipient(i, 'ccRecipients')">
                                X
                            </button>

                        </div>
                    </div>
                </div>
            </div>

            <mat-form-field appearance="outline" floatLabel="always">
                <input matInput formControlName="subject" placeholder="Subject" />
            </mat-form-field>

            <mat-form-field appearance="outline" floatLabel="always" class="form-field">
                <textarea matInput formControlName="body" placeholder="Email Body" rows="5"></textarea>
            </mat-form-field>

            <div class="border">
                <label>Email Attachments: </label>
                <input type="file" formControlName="emailAttachments" multiple />
                <label>Inline images: </label>
                <input type="file" formControlName="inlineAttachments" multiple />
            </div>


            <div class="button-row">
                <button mat-raised-button color="primary" (click)="submitForm()">
                    Send
                </button>
            </div>
        </form>
    </fieldset>

    <div style="width:100%; height: 50px; background: #333; color:#fff; padding: 5px;">
        <a href="https://github.com/MatazGhamdi/angular-mail-form" style="color:#fff;" target="_blank"> <h5>GitHub</h5></a>
        </div>
</div>